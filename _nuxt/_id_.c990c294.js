import{_ as k}from"./SingleAttractions.b923ea37.js";import{d as R,g as d,A as N,x as l,B as P,y as S,o as m,c as w,e,b as V,t as _,F as j,r as A,k as b,w as F,j as M}from"./entry.cf20d4e6.js";import{_ as E}from"./Breadcrumb.vue.86488b26.js";import{_ as q}from"./Button.vue.b5c6d72e.js";import{$ as z}from"./useFetcher.12c76293.js";import{u as G}from"./destination.6942b686.js";import"./Preloader.54e07d4e.js";import"./_plugin-vue_export-helper.c27b6911.js";const H={class:"min-h-[calc(100vh-239px)]"},I={class:"pt-20 md:pt-[120px]"},J={class:"container pt-5 md:pt-9 pb-5 md:pb-[74px]"},K={class:"flex items-start md:items-center justify-between mb-7 md:flex-row flex-col md:space-y-0 space-y-3"},O={class:"space-y-2"},Q={class:"font-bold leading-130 text-3xl md:text-40 text-white font-playfair"},T={class:"text-sm text-white/60 font-semibold leading-130"},U={class:"grid sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6 sm:gap-6"},W={class:"flex-center space-x-1"},ot=R({__name:"[id]",setup(X){const n=G(),y=d(()=>{var t,a;return[{title:"attractions",link:"/"},{title:(t=o==null?void 0:o.value)==null?void 0:t.title,link:`/country/${i.params.id}`},{title:(a=u==null?void 0:u.value)==null?void 0:a.title,link:"/"}]}),i=N(),f=l([]),g=l(void 0),c=l(1),x=l(12),r=l(!1);d(()=>n.religionList);const u=d(()=>{var t;return(t=n.religionList)==null?void 0:t.find(a=>(a==null?void 0:a.id)===(c==null?void 0:c.value))}),o=d(()=>{var t;return(t=n==null?void 0:n.countryList)==null?void 0:t.find(a=>{var s;return(a==null?void 0:a.id)===+((s=i==null?void 0:i.params)==null?void 0:s.id)})});function p(){return r.value=!0,new Promise((t,a)=>{z.$get("/destination/CountryAttractionListByReligion",{params:{destination_country__id:i.params.id,limit:x.value}}).then(s=>{f.value=s.results,g.value=s==null?void 0:s.next,t(s)}).catch(s=>{a(s)}).finally(()=>{setTimeout(()=>{r.value=!1},300)})})}const $=()=>{x.value+=12,p()};P(()=>{p()});async function B(){var t;return await Promise.all([n.fetchReligionList((t=i==null?void 0:i.params)==null?void 0:t.id)])}B(),S(()=>c.value,()=>{p()});function C(t,a){if(a&&t)return a===0||a===1?t:t==null?void 0:t.replace("{ n }",a)}return(t,a)=>{var v,h;const s=k;return m(),w("div",H,[e("div",I,[V(E,{menu:y.value,class:"container px-0"},null,8,["menu"]),e("div",J,[e("div",K,[e("div",O,[e("h1",Q,_(t.$t("attractions")),1),e("p",T,_(C(t.$t("all_attract",(v=o.value)==null?void 0:v.title),(h=o.value)==null?void 0:h.title)),1)])]),e("div",U,[(m(!0),w(j,null,A(f.value,(D,L)=>(m(),b(s,{data:D,"card-loading":r.value,"title-class":"!text-base !font-semibold !leading-130","text-class":"!text-sm !font-medium !leading-130",key:L,"card-class":"w-full sm:!w-[178px] !h-[200px]"},null,8,["data","card-loading"]))),128))]),g.value?(m(),b(q,{key:0,onClick:$,variant:"secondary",loading:r.value,"button-class":"lg:!px-7 lg:!px-3",class:"mx-auto mt-9"},{default:F(()=>[e("div",W,[e("span",null,_(t.$t("load_more")),1),a[0]||(a[0]=e("span",{class:"icon-arrow-right text-2xl rotate-90"},null,-1))])]),_:1},8,["loading"])):M("",!0)])])])}}});export{ot as default};
