import{d as b,z as p,A as z,C as P,o as d,c as h,e as l,n as L,D as M,m as B,F as R,h as S,v as U,E as q,t as x,q as G,s as W,g as v,G as H,b as J,k as $,j as D,w as K}from"./entry.4775dd14.js";import{_ as O}from"./SingleAttractions.89f0ecbc.js";import{_ as Q}from"./Breadcrumb.vue.3ef8e75b.js";import{_ as X}from"./Button.vue.0b6b732c.js";import{$ as Y}from"./useFetcher.12646a52.js";import{u as Z}from"./destination.1887fc89.js";import"./Preloader.bd773840.js";import"./_plugin-vue_export-helper.c27b6911.js";const tt={class:"w-full max-w-full md:max-w-fit relative gap-[6px] p-0.5 bg-white/10 border border-solid border-white/10 rounded-xl flex overflow-hidden p-[6px]"},et=["id","onClick"],at=b({__name:"AttractionTab",props:{modelValue:{},list:{},itemClass:{},activeClass:{}},emits:["update:modelValue"],setup(y,{emit:n}){const r=y,o=n,m=p({left:0,width:0}),u=(a,c)=>{const t=c==null?void 0:c.target;t&&(m.value={left:t==null?void 0:t.offsetLeft,width:t==null?void 0:t.offsetWidth},o("update:modelValue",a))};return z(()=>r.modelValue,()=>{const a=document.getElementById(`item_${r.modelValue}`);u(r.modelValue,{target:a})},{immediate:!0,deep:!0}),P(()=>{const a=document.getElementById(`item_${r.modelValue}`);setTimeout(()=>{u(r.modelValue,{target:a})},0)}),(a,c)=>(d(),h("div",tt,[l("div",{class:L([a.activeClass,"absolute h-[calc(100%-12px)] rounded-md bg-red w-full -translate-y-1/2 top-1/2 transition-all duration-300 border border-white/25"]),style:M({width:`${B(m).width}px`,left:`${B(m).left}px`})},null,6),(d(!0),h(R,null,S(a.list,(t,g)=>(d(),h("button",{id:"item_"+(t==null?void 0:t.id),key:g,class:L([[a.itemClass,a.modelValue===(t==null?void 0:t.id)?"text-white font-medium":"text-white/60 font-medium"],"min-w-[32%] sm:min-w-[32.5%] md:min-w-[160px] bg-white/10 py-2 px-3 md:px-7 text-sm sm:text-base md:text-xl leading-130 rounded-md z-10 m-0 transition-all duration-300 hover:text-white/100 border border-transparent hover:border-white/25"]),onClick:f=>u(t==null?void 0:t.id,f)},[U(a.$slots,"item",G(W(t)),()=>[q(x(t==null?void 0:t.title),1)])],10,et))),128))]))}}),it={class:"min-h-[calc(100vh-239px)]"},st={class:"pt-20 md:pt-[120px]"},lt={class:"container pt-5 md:pt-9 pb-5 md:pb-[74px]"},ot={class:"flex items-start md:items-center justify-between mb-7 md:flex-row flex-col md:space-y-0 space-y-3"},nt={class:"space-y-2"},dt={class:"font-bold leading-130 text-3xl md:text-40 text-white font-playfair"},rt={class:"text-sm text-white/60 font-semibold leading-130"},mt={class:"grid sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6 sm:gap-6"},ct={class:"flex-center space-x-1"},ut=l("span",{class:"icon-arrow-right text-2xl rotate-90"},null,-1),$t=b({__name:"[id]",setup(y){const n=Z(),r=v(()=>{var e,i;return[{title:"attractions",link:"/"},{title:(e=_==null?void 0:_.value)==null?void 0:e.title,link:`/country/${o.params.id}`},{title:(i=f==null?void 0:f.value)==null?void 0:i.title,link:"/"}]}),o=H(),m=p([]),u=p(void 0),a=p(1),c=p(12),t=p(!1),g=v(()=>n.religionList),f=v(()=>{var e;return(e=n.religionList)==null?void 0:e.find(i=>(i==null?void 0:i.id)===(a==null?void 0:a.value))}),_=v(()=>{var e;return(e=n==null?void 0:n.countryList)==null?void 0:e.find(i=>{var s;return(i==null?void 0:i.id)===+((s=o==null?void 0:o.params)==null?void 0:s.id)})});function w(){return t.value=!0,new Promise((e,i)=>{Y.$get("/destination/CountryAttractionListByReligion",{params:{religion__id:a.value,destination_country__id:o.params.id,limit:c.value}}).then(s=>{m.value=s.results,u.value=s==null?void 0:s.next,e(s)}).catch(s=>{i(s)}).finally(()=>{setTimeout(()=>{t.value=!1},300)})})}const T=e=>{a.value=e},A=()=>{c.value+=12,w()};P(()=>{w()});async function E(){var e;return await Promise.all([n.fetchReligionList((e=o==null?void 0:o.params)==null?void 0:e.id)])}E(),z(()=>a.value,()=>{w()});function N(e,i){if(i&&e)return i===0||i===1?e:e==null?void 0:e.replace("{ n }",i)}return(e,i)=>{var C,V,k;const s=at,j=O;return d(),h("div",it,[l("div",st,[J(Q,{menu:r.value,class:"container px-0"},null,8,["menu"]),l("div",lt,[l("div",ot,[l("div",nt,[l("h1",dt,x(e.$t("attractions")),1),l("p",rt,x(N(e.$t("all_attract",(C=_.value)==null?void 0:C.title),(V=_.value)==null?void 0:V.title)),1)]),(k=m.value)!=null&&k.length?(d(),$(s,{key:0,list:g.value,"model-value":a.value,"onUpdate:modelValue":T,class:"!w-auto"},null,8,["list","model-value"])):D("",!0)]),l("div",mt,[(d(!0),h(R,null,S(m.value,(F,I)=>(d(),$(j,{data:F,"card-loading":t.value,"title-class":"!text-base !font-semibold !leading-130","text-class":"!text-sm !font-medium !leading-130",key:I,"card-class":"w-full sm:!w-[178px] !h-[200px]"},null,8,["data","card-loading"]))),128))]),u.value?(d(),$(X,{key:0,onClick:A,variant:"secondary",loading:t.value,"button-class":"lg:!px-7 lg:!px-3",class:"mx-auto mt-9"},{default:K(()=>[l("div",ct,[l("span",null,x(e.$t("load_more")),1),ut])]),_:1},8,["loading"])):D("",!0)])])])}}});export{$t as default};
