import{_ as te}from"./Logo.vue.1165a29a.js";import{d as j,x as $,y as F,B as Y,o as u,c as v,e as i,n as U,S as le,l as x,F as T,r as A,t as R,b,w as C,_ as J,g as N,s as G,k as z,j as I,T as ne,q as H,z as P,v as ae,u as se,$ as re,A as ie}from"./entry.c14770fa.js";import{_ as ue}from"./Input.ac6b4a9e.js";import{_ as de}from"./ReligionBadge.vue.0ec1792b.js";import{_ as ce,a as pe}from"./Preloader.733d0edb.js";import{E as q}from"./religions.8734ae30.js";import{d as me}from"./useFetcher.685701df.js";import{u as Q,a as ve}from"./index.2c66014b.js";import{u as X}from"./destination.f9ea7129.js";import{_ as Z}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as fe}from"./Label.vue.e77cbae4.js";import{_ as ge}from"./Button.vue.4eab57d4.js";import{_ as he}from"./Modal.348d47b9.js";import{u as _e}from"./useMounted.f2fb193a.js";import"./index.2a632da2.js";const be={class:"main-tab relative bg-white/12 rounded-full flex w-max transition-300 overflow-hidden"},ye=["id","onClick"],ke=j({__name:"Tab",props:{modelValue:{},list:{},itemClass:{},activeClass:{}},emits:["update:modelValue"],setup(V,{emit:d}){const y=V,f=d,r=$({left:0,width:0}),o=(s,n)=>{const l=n.target;r.value={left:l==null?void 0:l.offsetLeft,width:l==null?void 0:l.offsetWidth},f("update:modelValue",s)};return F(()=>y.modelValue,()=>{const s=document.getElementById(`item_${y.modelValue}`);o(y.modelValue,{target:s})}),Y(()=>{const s=document.getElementById(`item_${y.modelValue}`);setTimeout(()=>{o(y.modelValue,{target:s})},1)}),(s,n)=>(u(),v("div",be,[i("div",{class:U([s.activeClass,"absolute h-full rounded-full bg-white w-full -translate-y-1/2 top-1/2 transition-300 text-dark"]),style:le({width:`${x(r).width}px`,left:`${x(r).left}px`})},null,6),(u(!0),v(T,null,A(s.list,(l,p)=>(u(),v("button",{id:`item_${l.value}`,key:p,class:U([[s.itemClass,s.modelValue===l.value?"text-dark hover:!text-dark":"!text-white"],"tabs py-2.5 px-6 rounded-full transition-300 w-full text-lg font-medium z-10 hover:text-dark font-medium tabs"]),onClick:w=>o(l.value,w)},R(l.label),11,ye))),128))]))}}),xe={class:"flex gap-3 h-max cursor-pointer pr-2 py-4 border-b border-dark-200"},we={class:"aspect-location-image overflow-hidden rounded shrink-0 w-[118px] relative border-white/12"},$e=["src"],Ce={class:"absolute w-full h-full opacity-0 top-0 lef-0 transition-300 group-hover:opacity-40 bg-dark/80 group-hover:bg-dark flex flex-col items-center justify-center hover:!opacity-100 hover:!bg-dark/80"},Ve={class:"text-white text-xs"},Se={class:"text-gray-300 text-sm mb-1 line-clamp-1"},Me={class:"text-white font-semibold line-clamp-2"},Be=j({__name:"LocationItem",props:{data:{},loading:{type:Boolean}},setup(V){return(d,y)=>{var s;const f=de,r=ce,o=J;return u(),v("div",{class:U(["flex pl-5 transition-300 hover:bg-white/5 group cursor-pointer",{"bg-white/[3%]":d.loading}])},[i("div",xe,[b(o,{to:d.localePath(`/destination/${(s=d.data)==null?void 0:s.slug}`)},{default:C(()=>[b(r,{width:"118px",height:"72px","border-radius":"4px",loading:d.loading},{default:C(()=>{var n,l,p;return[i("div",we,[i("img",{src:(n=d.data)==null?void 0:n.image,alt:"location image",class:"w-full h-full object-cover"},null,8,$e),b(f,{class:"absolute bottom-2 left-2",type:(p=(l=d.data)==null?void 0:l.religion)==null?void 0:p.type},null,8,["type"]),i("div",Ce,[y[0]||(y[0]=i("i",{class:"icon-external-link text-white text-2xl"},null,-1)),i("span",Ve,R(d.$t("view")),1)])])]}),_:1},8,["loading"])]),_:1},8,["to"]),i("div",null,[b(r,{width:"98px",height:"18px","border-radius":"4px",loading:d.loading,"preloader-class":"mb-1"},{default:C(()=>{var n,l,p,w,S,M;return[i("p",Se,R((p=(l=(n=d.data)==null?void 0:n.region)==null?void 0:l.country)!=null&&p.title?(M=(S=(w=d.data)==null?void 0:w.region)==null?void 0:S.country)==null?void 0:M.title:"Baku, Azerbaijan"),1)]}),_:1},8,["loading"]),b(r,{width:"200px",height:"18px","border-radius":"4px",loading:d.loading},{default:C(()=>{var n;return[i("h4",Me,R((n=d.data)==null?void 0:n.title),1)]}),_:1},8,["loading"])])])],2)}}}),Le={class:"relative"},ee=j({__name:"Main",props:{modelValue:{},locations:{},mapClass:{},defaultCoords:{}},emits:["update:modelValue"],setup(V,{emit:d}){const y=$(14),f=V,r=d;function o(a){switch(a){case q.ISLAM:return"/svg/religions/islam.svg";case q.CHRISTIANITY:return"/svg/religions/christianity.svg";case q.BUDDHISM:return"/svg/religions/buddhism.svg";case q.ABOUT:return"/svg/religions/about.svg";default:return""}}const s=a=>({layout:"default#imageWithContent",imageHref:o(a),imageSize:[50,50],imageOffset:[-20,-30]}),n=a=>a.split(";"),l=$([41.31,69.26]);F(()=>f.defaultCoords,()=>{var a;(a=f.defaultCoords)!=null&&a.length&&(l.value=f.defaultCoords)},{immediate:!0}),F(()=>l.value,()=>{r("update:modelValue",l.value)},{deep:!0});const p=$({apiKey:"",lang:"ru_RU",coordorder:"latlong",version:"2.1"}),w=N(()=>function(a){var e,t,k;return`
         <a href="/destination/${a==null?void 0:a.slug}"  class="relative bg-dark rounded-xl overflow-visible p-2 inline-block w-[142px]">
          <img
            src="${a==null?void 0:a.image}"
            class="object-cover h-20 max-w-[126px] w-full rounded-xl"
            alt="Map image"
          />
          <p class="mt-2 mb-1 text-[10px] text-[#83848D] line-clamp-1 leading-120">
            ${(e=a==null?void 0:a.region)==null?void 0:e.title} ${(t=a==null?void 0:a.region)!=null&&t.title?"<span>,</span>":""}
                 ${(k=a==null?void 0:a.destination_country)==null?void 0:k.title}
          </p>
          <p class="text-xs text-white font-semibold leading-130"> ${a==null?void 0:a.title} </p>

      </a>
    `});function S(a){a.get("target").balloon.open()}function M(a){a.get("target").balloon.close()}function B(a){setTimeout(()=>{a.get("target").balloon.close()},1500)}return(a,e)=>{const t=G("ymap-marker"),k=G("yandex-map"),g=pe;return u(),v("div",Le,[b(g,null,{default:C(()=>[b(k,{class:U(["h-full w-full",a.mapClass]),coords:x(l),settings:x(p),zoom:x(y),controls:[]},{default:C(()=>[(u(!0),v(T,null,A(a.locations,(h,m)=>{var _;return u(),z(t,{key:m,coords:n(h.location),"marker-id":"123","hint-content":h.name,icon:s((_=h==null?void 0:h.religion)==null?void 0:_.type),"balloon-template":x(w)(h),onMouseenter:S,onMouseleave:M,onBalloonopen:B},null,8,["coords","hint-content","icon","balloon-template"])}),128))]),_:1},8,["coords","settings","zoom","class"])]),_:1})])}}});const De=""+globalThis.__publicAssetsURL("svg/empty-state.svg"),Ie={class:"h-screen grid grid-rows-max-1 w-[404px] bg-dark map-sidebar"},Ue={class:"border-b border-white/8 p-5"},Fe={class:"flex items-center gap-2 mb-3"},Te={key:0,class:"flex gap-3"},Ke={key:0},je={key:0,class:"flex gap-3 my-4"},Oe={key:1,class:"py-4"},Re={class:"flex flex-col justify-center items-center pt-6 pb-8 border-b border-b-white/10"},ze={class:"mt-4 text-white/60 max-w-[280px] text-center font-medium"},Ae={class:"text-white px-5 mt-4 text-lg font-medium"},Ne={key:1,class:"w-full h-full"},qe=j({__name:"Sidebar",props:{locations:{},popular:{},loading:{type:Boolean}},emits:["open-filter","handleSearch","observe","observeDestinations"],setup(V,{emit:d}){const{width:y}=Q(),f=d,r=X(),o=$(""),s=$([]),n=$(null),l=$(!1),p=N(()=>r.next);ve(n,([{isIntersecting:e}],t)=>{l.value=e,l.value&&(p==null?void 0:p.value)!==null&&f("observeDestinations")});const w=e=>{o.value=e,me("search",()=>{f("handleSearch",o.value)})};function S(){o.value="",f("handleSearch","")}function M(e){var t;y.value<900&&(B.value="map"),s.value=(t=e==null?void 0:e.location)==null?void 0:t.split(";"),f("observe",e)}const B=$("list"),a=[{label:"Map",value:"map"},{label:"List",value:"list"}];return(e,t)=>{const k=te,g=J,h=ue,m=ke,_=Be,L=ee;return u(),v("aside",Ie,[i("div",Ue,[i("div",Fe,[i("button",{onClick:t[0]||(t[0]=c=>e.$router.push("/")),class:"group"},t[6]||(t[6]=[i("i",{class:"icon-arrow-left text-white text-2xl transition-300 group-hover:text-white/60"},null,-1)])),b(g,{to:e.localePath("/")},{default:C(()=>[(u(),z(k,{key:e.loading}))]),_:1},8,["to"])]),x(y)>900?(u(),v("div",Te,[b(h,{modelValue:o.value,"onUpdate:modelValue":[t[1]||(t[1]=c=>o.value=c),w],placeholder:e.$t("search")},{prefix:C(()=>t[7]||(t[7]=[i("span",{class:"icon-search text-xl leading-5 text-gray-400 mr-2 transition-300"},null,-1)])),suffix:C(()=>{var c;return[i("span",{class:U(["icon-xmark text-gray-400 -my-0.5 text-2xl leading-6 transition duration-300 cursor-pointer hover:text-gray",(c=o.value)!=null&&c.length?"opacity-100 visible":"opacity-0 invisible"]),onClick:S},null,2)]}),_:1},8,["modelValue","placeholder"]),i("button",{class:"shrink-0 text-gray-200 transition-300 hover:text-white",onClick:t[2]||(t[2]=c=>f("open-filter"))},t[8]||(t[8]=[i("i",{class:"icon-sliders text-2xl"},null,-1)]))])):I("",!0),b(m,{list:a,modelValue:B.value,"onUpdate:modelValue":t[3]||(t[3]=c=>B.value=c),class:"!w-full mt-4 hidden tab-sidebar"},null,8,["modelValue"])]),b(ne,{name:"fade",mode:"out-in"},{default:C(()=>{var c,K,O,W;return[(u(),v("div",{key:B.value,class:"h-full max-h-full overflow-y-auto custom-scroll px-4 lg:px-0"},[B.value==="list"?(u(),v("div",Ke,[x(y)<900?(u(),v("div",je,[b(h,{modelValue:o.value,"onUpdate:modelValue":[t[4]||(t[4]=D=>o.value=D),w],placeholder:e.$t("search")},{prefix:C(()=>t[9]||(t[9]=[i("span",{class:"icon-search text-xl leading-5 text-gray-400 mr-2 transition-300"},null,-1)])),suffix:C(()=>{var D;return[i("span",{class:U(["icon-xmark text-gray-400 -my-0.5 text-2xl leading-6 transition duration-300 cursor-pointer hover:text-gray",(D=o.value)!=null&&D.length?"opacity-100 visible":"opacity-0 invisible"]),onClick:S},null,2)]}),_:1},8,["modelValue","placeholder"]),i("button",{class:"shrink-0 text-gray-200 transition-300 hover:text-white",onClick:t[5]||(t[5]=D=>f("open-filter"))},t[10]||(t[10]=[i("i",{class:"icon-sliders text-2xl"},null,-1)]))])):I("",!0),(c=e.locations)!=null&&c.length?(u(),v("div",Oe,[(u(!0),v(T,null,A(e.loading?13:e.locations,(D,E)=>(u(),z(_,{key:E,loading:e.loading,data:D,onClick:no=>M(D)},null,8,["loading","data","onClick"]))),128)),i("div",{ref_key:"target",ref:n},null,512)])):I("",!0),!((K=e.locations)!=null&&K.length)&&((O=e.popular)!=null&&O.length)?(u(),v(T,{key:2},[i("div",Re,[t[11]||(t[11]=i("img",{src:De,alt:"No data"},null,-1)),i("p",ze,R(e.$t("no_results_found_text")),1)]),(W=e.popular)!=null&&W.length?(u(),v(T,{key:0},[i("h3",Ae,R(e.$t("popular_attractions")),1),(u(!0),v(T,null,A(e.popular,(D,E)=>(u(),z(_,{key:E,data:D},null,8,["data"]))),128))],64)):I("",!0)],64)):I("",!0)])):(u(),v("div",Ne,[b(L,{"default-coords":s.value,locations:e.locations},null,8,["default-coords","locations"])]))]))]}),_:1})])}}});const Ee=Z(qe,[["__scopeId","data-v-38ddace4"]]),He={class:"pr-8 flex items-center"},Pe=["src"],We=["value","name"],oe=j({__name:"Checkbox",props:{modelValue:{type:[String,Number,Boolean]},label:{},name:{},value:{type:[String,Number,Boolean]},disabled:{type:Boolean},error:{type:Boolean},labelStyles:{},icon:{},checked:{type:Boolean}},emits:["update:modelValue"],setup(V,{emit:d}){const y=d,f=r=>{const o=r.target;y("update:modelValue",o==null?void 0:o.value)};return(r,o)=>(u(),v("label",{class:U(["group inline-flex items-center relative select-none min-h-[24px] px-5 py-3 border border-white/8 rounded-lg transition-300 hover:border-white/40",r.disabled?"cursor-not-allowed":"cursor-pointer"])},[i("div",He,[H(r.$slots,"label",{},()=>[r.icon?(u(),v("img",{key:0,src:r.icon,alt:"icon",class:"rounded-full mr-3 w-6 h-6"},null,8,Pe)):I("",!0),i("span",{class:U(["font-medium letter-3 leading-130 text-white text-base",r.labelStyles])},R(r.label),3)])]),i("input",P({disabled:r.disabled,checked:r.checked},{type:"checkbox",class:"absolute opacity-0 invisible h-0 w-0 peer",value:r.value,name:r.name,onChange:f}),null,16,We),i("span",{class:U(["duration-200 ease-in-out absolute right-5 inline-block h-6 w-6 rounded border-2 peer-checked:-rotate-90 peer-checked:after:opacity-100 peer-checked:after:rotate-[138deg] after:transition-all after:duration-200 after:absolute after:left-2 after:top-[5px] after:w-1.5 after:h-3 after:border-r-[2.2px] after:border-b-[2.2px] after:rotate-[0deg] after:opacity-0","border-grey-light peer-checked:border-orange peer-checked:bg-orange after:border-white peer-disabled:border-grey-100 peer-disabled:after:border-grey-100",{"!border-danger":r.error,"group-hover:border-primary":!r.disabled}])},null,2)],2))}}),Ge=j({__name:"CheckboxGroup",props:{modelValue:{},items:{},labelKey:{default:"name"},valueKey:{default:"id"},wrapperClass:{default:"flex flex-wrap gap-4"},name:{default:`k-checkbox-${Math.floor(Math.random()*1e3)}`},isAll:{type:Boolean}},emits:["update:modelValue"],setup(V,{emit:d}){const y=V,f=d,r=o=>{const s=[...y.modelValue];s.includes(o)?s.splice(s.indexOf(o),1):s.push(o),f("update:modelValue",s)};return(o,s)=>{const n=oe;return H(o.$slots,"default",{},()=>[o.items&&Object.keys(o.items).length>0?(u(),v("div",{key:0,class:U(o.wrapperClass)},[o.isAll?H(o.$slots,"all",{key:0}):I("",!0),(u(!0),v(T,null,A(o.items,(l,p)=>{var w;return u(),z(n,{key:p,label:l[o.labelKey],value:l[o.valueKey],name:o.name,checked:(w=o.modelValue)==null?void 0:w.includes(String(l.id)),icon:l.flag,"onUpdate:modelValue":r},null,8,["label","value","name","checked","icon"])}),128))],2)):I("",!0)])}}});function Ye(V,d){return[{label:V("choose_religion"),name:"religion",labelKey:"title",valueKey:"id",options:d==null?void 0:d.religion},{label:V("choose_country"),name:"country",labelKey:"title",valueKey:"id",options:d==null?void 0:d.country}]}const Je={class:"text-white flex flex-col"},Qe={class:"space-y-6 overflow-y-auto max-h-[500px] lg:max-h-fit p-5"},Xe={class:"flex items-center gap-4 p-5"},Ze=j({__name:"Modal",props:{show:{type:Boolean},religions:{},countries:{}},emits:["close","handleFilter"],setup(V,{emit:d}){const{t:y}=ae(),f=se(),r=re(),o=V,s=d,n=$({religion:[],country:[]}),l=$(!1),p=$(!1),w=N(()=>{const e={religion:o==null?void 0:o.religions,country:o==null?void 0:o.countries};return Ye(y,e)}),S=()=>{var t,k,g,h;const e={...f.query,religion:(t=n.value.religion)==null?void 0:t.join(","),country:(k=n.value.country)==null?void 0:k.join(",")};r.push({...f,query:{...e}}),s("handleFilter",{religion:l.value||(g=n.value.religion)==null?void 0:g.join(","),country:p.value||(h=n.value.country)==null?void 0:h.join(",")}),s("close")},M=()=>{for(const e in n.value)n.value[e]=void 0;S()};F(()=>o.show,()=>{var e,t;o.show?(n.value.religion=((e=f.query.religion)==null?void 0:e.split(","))??[],n.value.country=((t=f.query.country)==null?void 0:t.split(","))??[]):(n.value.religion=[],n.value.country=[])});function B(e){l.value=!l.value}function a(e){p.value=!p.value}return F(()=>l.value,()=>{var e,t,k;l.value?(e=o.religions)==null||e.forEach(g=>{var h,m;(h=n.value.religion)!=null&&h.includes(String(g==null?void 0:g.id))||(m=n.value.religion)==null||m.push(String(g==null?void 0:g.id))}):((t=n.value.religion)==null?void 0:t.length)===((k=o.religions)==null?void 0:k.length)&&(n.value.religion=[])}),F(()=>n.value.religion,()=>{var e,t;l.value=((e=n.value.religion)==null?void 0:e.length)===((t=o.religions)==null?void 0:t.length)},{deep:!0}),F(()=>p.value,()=>{var e,t,k;p.value?(e=o.countries)==null||e.forEach(g=>{var h,m;(h=n.value.country)!=null&&h.includes(String(g==null?void 0:g.id))||(m=n.value.country)==null||m.push(String(g==null?void 0:g.id))}):((t=n.value.country)==null?void 0:t.length)===((k=o.countries)==null?void 0:k.length)&&(n.value.country=[])}),F(()=>n.value.country,()=>{var e,t;p.value=((e=n.value.country)==null?void 0:e.length)===((t=o.countries)==null?void 0:t.length)},{deep:!0}),(e,t)=>{const k=fe,g=oe,h=Ge,m=ge,_=he;return u(),v("div",null,[b(_,P({show:e.show},{title:e.$t("filter"),onClose:t[1]||(t[1]=L=>s("close"))}),{default:C(()=>{var L;return[i("div",Je,[i("div",Qe,[(u(!0),v(T,null,A((L=x(w))==null?void 0:L.slice(0,1),(c,K)=>(u(),v("div",{class:"relative",key:K},[b(k,{label:c.label,"for-id":c.name,class:"mb-4"},null,8,["label","for-id"]),b(h,{items:c.options,name:c.name,"label-key":c.labelKey,"value-key":c.valueKey,modelValue:x(n).religion,"onUpdate:modelValue":t[0]||(t[0]=O=>x(n).religion=O),"wrapper-class":"grid md:grid-cols-2 grid-cols-1 gap-5","is-all":""},{all:C(()=>[b(g,{label:e.$t("all"),value:!x(l),checked:x(l),name:e.name,"onUpdate:modelValue":B},null,8,["label","value","checked","name"])]),_:2},1032,["items","name","label-key","value-key","modelValue"])]))),128)),(u(!0),v(T,null,A(x(w).slice(1,2),(c,K)=>(u(),v("div",{class:"relative",key:K},[b(k,{label:c.label,"for-id":c.name,class:"mb-4"},null,8,["label","for-id"]),b(h,{items:c.options,name:c.name,"label-key":c.labelKey,"value-key":c.valueKey,modelValue:x(n)[c.name],"onUpdate:modelValue":O=>x(n)[c.name]=O,"wrapper-class":"grid md:grid-cols-2 grid-cols-1 gap-5","is-all":""},{all:C(()=>[b(g,{label:e.$t("all"),value:!x(p),checked:x(p),name:e.name,"onUpdate:modelValue":a},null,8,["label","value","checked","name"])]),_:2},1032,["items","name","label-key","value-key","modelValue","onUpdate:modelValue"])]))),128))]),i("div",Xe,[b(m,{text:e.$t("clear"),class:"w-full",variant:"secondary",onClick:M},null,8,["text"]),b(m,{text:e.$t("apply"),class:"w-full",onClick:S},null,8,["text"])])])]}),_:1},16,["title"])])}}}),eo={class:"h-screen w-screen grid grid-cols-max-1 overflow-hidden map-wrapper"},oo={key:1,class:"w-full h-full"},to={id:"map",class:"w-full h-full"},lo=j({__name:"map",setup(V){const{width:d}=Q(),y=_e(),f=$([]),r=ie(),o=$(!1),s=X(),n=N(()=>s.popularDestination),l=$([]),p=$(100),w=N(()=>s.religionList),S=N(()=>s.countryList),M=$(!1),B=()=>{o.value=!0,a(),s.fetchPopularDestination(),s.fetchReligionList(),s.fetchCountryList()},a=()=>{var _,L;const m={religion:(_=r==null?void 0:r.query)==null?void 0:_.religion,country:(L=r==null?void 0:r.query)==null?void 0:L.country};s.fetchDestinations("",p.value,m.religion??void 0,m.country??void 0).then(c=>{l.value=c}).finally(()=>{setTimeout(()=>{o.value=!1},400)})},e=()=>{o.value=!0,p.value+=5,a()};function t(m){o.value=!0,s.fetchDestinations("",p.value,m.religion,m.country).then(_=>{l.value=_}).finally(()=>{setTimeout(()=>{o.value=!1},100)})}function k(){M.value=!0}function g(m){var _;f.value=(_=m==null?void 0:m.location)==null?void 0:_.split(";")}F(()=>l.value,()=>{var m,_;f.value=(_=(m=l.value[0])==null?void 0:m.location)==null?void 0:_.split(";")},{deep:!0});function h(m){s.fetchDestinations(m).then(_=>{l.value=_})}return Y(()=>{B()}),(m,_)=>{const L=Ee,c=ee,K=Ze;return u(),v("main",eo,[x(y)?(u(),z(L,{key:0,loading:o.value,locations:l.value,popular:n.value,onHandleSearch:h,onOpenFilter:k,onObserve:g,onObserveDestinations:e},null,8,["loading","locations","popular"])):I("",!0),x(d)>900?(u(),v("div",oo,[i("div",to,[(u(),z(c,{"default-coords":f.value,locations:l.value,key:l.value},null,8,["default-coords","locations"]))])])):I("",!0),b(K,P({show:M.value,religions:w.value,countries:S.value},{onClose:_[0]||(_[0]=O=>M.value=!1),onHandleFilter:t}),null,16)])}}});const ko=Z(lo,[["__scopeId","data-v-1ae22bbe"]]);export{ko as default};
